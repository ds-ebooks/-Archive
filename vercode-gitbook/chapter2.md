---
title: MFC入门概念
---

# MFC入门概念

## 一、MFC简介

### 1.API

Windows操作系统提供了各种各样的函数，以方便我们开发Windows应用程序。这些程序是Windows操作系统提供给应用程序编程的接口（Application Programming Interface）,简称为API函数。我们一般所说的AP主要是指系统提供的函数，所有的Windows函数都在Windows头文件中进行了声明。

比喻，播放声音的API函数:

```
BOOL PlaySound(LPCSTR pszSound, HMODULE hmod,DWORD fdwSound);
```

pszSound就是你要播放的文件路径，fdwSound就是你要选择的播放模式。使用API时，注意**头文件和库文件对API的支持**，否则程序编译或链接会提示错误。比喻API PlaySound需要头文件`mmsystem.h`和库文件WINMM.LIB的支持。

```
#include<mmsystem.h>
#pragma comment(lib,"WINMM.LIB")
```

### 2.SDK

SDK（Software Development Kit, 即软件开发工具包 ）一般是一些被软件工程师用于为特定的软件包、软件框架、硬件平台、操作系统等建立应用软件的开发工具的集合。

假如我们要开发无线信号发射器，在购买芯片或主板的同时，厂商同时会提供主板的SDK开发包，以方便我们对主板的编程操作。这个开发包通常会包含主板的API函数、帮助文档、使用手册、辅助工具等资源，也就是定义里面说的，**SDK实际上一个开发所需资源的一个集合。**

### 3.控制台程序

所谓的控制台应用程序，就是能够运行在`MS-DOS`环境中的程序。一个典型的应用就是ping网络，如下图所示：![](http://c.biancheng.net/cpp/uploads/allimg/151221/1-15122109422X30.png)

DOS 的这种界面叫`CUI (Command line User Interface )`命令行模式的人机接口。

### 4.GUI程序

GUI 是`Graphical User Interface`的简称，即图形用户界面，强调人—机—环境三者作为一个系统进行总体设计，而DOS就不具备GUI，所以他只能输入命令。

### 5.MFC程序

* MFC是微软基础类库的简称，是微软公司实现的一个c++类库，主要封装了大部分的windows API函数，所以在MFC中，你可以直接调用 windows API，同时需要引用对应的头文件或库文件.

* MFC也是一个框架，在vc++里新建一个MFC的工程，开发环境会自动帮你产生许多文件，同时它使用了mfcxx.dll.

  * xx是版本，它**封装了mfc内核**，所以你在你的代码看不到原本的SDK编程中的消息循环等等东西，因为MFC框架帮你封装好了，这样你就可以专心的考虑你程序的逻辑，而不是这些每次编程都要重复的东西.

  * 由于是通用框架，没有最好的针对性，当然也就丧失了一些灵活性和效率，但是MFC的封装很浅，所以在灵活性以及效率上损失不大，可以忽略不计.

* MFC程序就是基于MFC编译出来的可执行程序，是一种GUI程序。

### 6.字符编码：Unicode和多字节

* 字符编码是一个复杂的过程。简单地讲，就是将机器语言（0和1组成的字符串）转换成我们能识别的信息的一个过程。
* MFC有两种编码方式，Unicode和多字节并且可以设置切换。切换方法是打开项目属性页，常规项对应的字符集中可切换编码方式。
* **Visual C++6.0用的是多字节编码；Virtual Studio 2010 默认使用的是Unicode编码;**
* 使用\*\* \*\*
  `_T 宏`
  有条件地编写字符串的代码，使之可移植到 Unicode。这一招可以解决大多数编码方式不匹配引发的问题。

### 7.句柄

句柄（HANDLE）是Windows程序中一个重要的概念，使用也非常频繁，在Windows程序中，有各种各样的资源（窗口、图标、光标、画刷等等），系统在创建这些资源时会为它们分配内存，并返回标识这些资源的标识号，即句柄。我们还会看到图标句柄（HICON）光标句柄（HCURSOR）和画刷句柄（HBRUSH）。

## 二、熟悉开发环境

### 1.熟悉开发环境

软件开发的第一步是熟悉开发环境，本节将会详细介绍如何通过Virtual Studio 2010 编写一个MFC对话框程序，首先安装[MFC](https://jingyan.baidu.com/article/77b8dc7f8bdf216174eab689.html)。

### 2.学习VC时所常用的开发思路和方法 {#2学习vc时所常用的开发思路和方法}

开发需要读写文件的应用程序并且有简单的输入和输出可以利用单文档视结构。

1. 开发注重交互的应用程序可以使用对话框为基础的窗口。
2. 尽量避免使用多文档多视结构。
3. 尽量避免多重继承并尽量减少一个类中封装过多的功能。
4. 在要求在多个文档间传递数据时使用多文档视结构。
5. 在对多文档要求不强烈时尽量避免多文档视结构，可以利用分隔条产生单文档多视结构。
